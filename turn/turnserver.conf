# CoTURN TURN Server Configuration
# Для голосового чата на Render

# Основные настройки
listening-port=3478
tls-listening-port=5349
listening-ip=0.0.0.0
external-ip=$EXTERNAL_IP

# Аутентификация - ВКЛЮЧАЕМ для безопасности
user-quota=12
total-quota=1200
authentication-method=long-term
lt-cred-mech
user=voicechat:${TURN_PASSWORD}
realm=voicechat

# STUN и TURN - ВКЛЮЧАЕМ TURN для WebRTC
# stun-only
# no-auth

# Логирование
verbose
fingerprint

# Ограничения
max-allocate-lifetime=3600
default-allocation-lifetime=3600
max-permissions-per-user=10

# Сетевые настройки
min-port=49152
max-port=65535

# Дополнительные настройки для WebRTC
no-cli
# Убираем no-tls и no-dtls для поддержки secure WebRTC
# no-tls
# no-dtls

# Настройки для лучшей совместимости с браузерами
allow-peer-access
no-multicast-peers
